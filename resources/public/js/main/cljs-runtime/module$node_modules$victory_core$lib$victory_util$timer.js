shadow$provide.module$node_modules$victory_core$lib$victory_util$timer = function(global, require, module, exports) {
  Object.defineProperty(exports, "__esModule", {value:!0});
  exports.default = void 0;
  var _d3Timer = require("module$node_modules$victory_vendor$lib$d3_timer");
  class Timer {
    constructor() {
      this.loop = () => {
        this.subscribers.forEach(s => {
          s.callback((0,_d3Timer.now)() - s.startTime, s.duration);
        });
      };
      this.shouldAnimate = !0;
      this.subscribers = [];
      this.timer = null;
      this.activeSubscriptions = 0;
    }
    bypassAnimation() {
      this.shouldAnimate = !1;
    }
    resumeAnimation() {
      this.shouldAnimate = !0;
    }
    start() {
      this.timer || (this.timer = (0,_d3Timer.timer)(this.loop));
    }
    stop() {
      this.timer && (this.timer.stop(), this.timer = null);
    }
    subscribe(callback, duration) {
      callback = this.subscribers.push({startTime:(0,_d3Timer.now)(), callback, duration:this.shouldAnimate ? duration : 0});
      this.activeSubscriptions++;
      this.start();
      return callback;
    }
    unsubscribe(id) {
      null !== id && this.subscribers[id - 1] && (delete this.subscribers[id - 1], this.activeSubscriptions--);
      0 === this.activeSubscriptions && this.stop();
    }
  }
  exports.default = Timer;
};

//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$timer.js.map
