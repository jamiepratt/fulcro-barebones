{
"version":3,
"file":"module$node_modules$victory_core$lib$victory_util$scale.js",
"lineCount":94,
"mappings":"AAAAA,cAAA,CAAA,uDAAA,GAA4E,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAiBpHC,UAASA,yBAAwB,CAACC,CAAD,CAAI;AAAE,QAAI,UAAJ,IAAkB,MAAOC,QAAzB;AAAkC,aAAO,IAAP;AAAlC;AAAF,QAAqDC,IAAI,IAAID,OAAJ,EAAzD,EAAwEE,IAAI,IAAIF,OAAJ,EAA5E;AAA2F,WAAO,CAACF,wBAAD,GAA4BA,QAAS,CAACC,CAAD,CAAI;AAAE,aAAOA,CAAA,GAAIG,CAAJ,GAAQD,CAAf;AAAF,KAAzC,EAAgEF,CAAhE,CAAP;AAA3F;AACrCI,UAASA,wBAAuB,CAACJ,CAAD,EAAIE,CAAJ,CAAO;AAAE,QAAI,CAACA,CAAL,IAAUF,CAAV,IAAeA,CAAEK,CAAAA,UAAjB;AAA6B,aAAOL,CAAP;AAA7B;AAAuC,QAAI,IAAJ,KAAaA,CAAb,IAAkB,QAAlB,IAA8B,MAAOA,EAArC,IAA0C,UAA1C,IAAwD,MAAOA,EAA/D;AAAkE,aAAO,CAAEM,QAASN,CAAX,CAAP;AAAlE;AAA8H,SAAjCG,CAAiC,GAA7BJ,wBAAA,CAAyBG,CAAzB,CAA6B,KAASC,CAAEI,CAAAA,GAAF,CAAMP,CAAN,CAAT;AAAmB,aAAOG,CAAEK,CAAAA,GAAF,CAAMR,CAAN,CAAP;AAAnB;AAAvK,QAA+MS,IAAI,CAAEC,UAAW,IAAb,CAAnN,EAAwOC,IAAIC,MAAOC,CAAAA,cAAXF,IAA6BC,MAAOE,CAAAA,wBAA5Q,EAA+SC,CAA/S;AAAsS,SAASA,CAAT,GAAcf,EAAd;AAAiB,UAAI,SAAJ,KAAkBe,CAAlB,IAAuBH,MAAOI,CAAAA,SAAUC,CAAAA,cAAeC,CAAAA,IAAhC,CAAqClB,CAArC,EAAwCe,CAAxC,CAAvB,CAAmE;AAAE,YAAII,IAAIR,CAAA,GAAIC,MAAOE,CAAAA,wBAAP,CAAgCd,CAAhC,EAAmCe,CAAnC,CAAJ,GAA4C,IAApD;AAA0DI,SAAA,KAAMA,CAAEX,CAAAA,GAAR,IAAeW,CAAEC,CAAAA,GAAjB,IAAwBR,MAAOC,CAAAA,cAAP,CAAsBJ,CAAtB,EAAyBM,CAAzB,EAA4BI,CAA5B,CAAxB,GAAyDV,CAAA,CAAEM,CAAF,CAAzD,GAAgEf,CAAA,CAAEe,CAAF,CAAhE;AAA5D;AAApF;AAAwN,WAAON,CAAEH,CAAAA,OAAF,GAAYN,CAAZ,EAAeG,CAAf,IAAoBA,CAAEiB,CAAAA,GAAF,CAAMpB,CAAN,EAASS,CAAT,CAApB,EAAiCA,CAAxC;AAA9f;AAYvCY,UAASA,WAAU,CAACC,KAAD,CAAQ;AACzB,WAAqB,UAArB,KAAI,MAAOA,MAAX,GACSC,OAAQC,CAAAA,UAAR,CAAmBF,KAAMG,CAAAA,IAAzB,CADT,IAC2CF,OAAQC,CAAAA,UAAR,CAAmBF,KAAMI,CAAAA,MAAzB,CAD3C,IAC+EH,OAAQC,CAAAA,UAAR,CAAmBF,KAAMK,CAAAA,KAAzB,CAD/E,GAE4B,QAArB,KAAI,MAAOL,MAAX,GACEM,qBAAsBC,CAAAA,QAAtB,CAA+BP,KAA/B,CADF,GAGA,CAAA,CALP;AADyB;AAmC3BQ,UAASA,qBAAoB,CAACC,KAAD,EAAQC,IAAR,CAAc;AACzC,QAAI,CAACD,KAAME,CAAAA,IAAX;AACE,aAAO,QAAP;AADF;AAGA,UAAMC,WAAWX,OAAQY,CAAAA,cAAR,CAAuBJ,KAAA,CAAMC,IAAN,CAAvB,CAAjB;AACMI,SAAAA,GAAWL,KAAME,CAAAA,IAAKI,CAAAA,GAAX,CAAeC,KAAA,IAAS;AACvC,YAAMC,gBAAgB,GAAIC,eAAgBlC,CAAAA,OAApB,EAA6B4B,QAAA,CAASI,KAAT,CAA7B,CAAA,GAAgDJ,QAAA,CAASI,KAAT,CAAA,CAAgBN,IAAhB,CAAhD,GAAwEE,QAAA,CAASI,KAAT,CAA9F;AACA,aAAyBG,IAAAA,EAAlB,KAAAF,aAAA,GAA8BA,aAA9B,GAA8CD,KAAA,CAAMN,IAAN,CAArD;AAFuC,KAAxB,CAAXI;AAIN,WAAOM,UAAWC,CAAAA,aAAX,CAAyBP,KAAzB,CAAA,GAAqC,MAArC,GAA8C,QAArD;AATyC;AAc3CQ,UAASA,iBAAgB,CAACC,IAAD,CAAO;AAC9B,WAAIxB,UAAA,CAAWwB,IAAX,CAAJ,IApDA,IAuDS,GAvDD,QAqDuBA,IArDvB,IAqDuBA,IAtDF,CAAE,CAAF,CAAKC,CAAAA,WAAL,EACrB,GAqDuBD,IAtDqBE,CAAAA,KAAF,CAAQ,CAAR,CAC1C,EAuDC,EAAAC,OAAA,CAFYC,IAEZ,CAAA,EAHT,IAKOD,OAAQE,CAAAA,WAAR,EALP;AAD8B;AAmBhCC,UAASA,kBAAiB,CAACpB,KAAD,EAAQC,IAAR,CAAc;AACtC,QAAoBD,KA5DTT,CAAAA,KA4DX,KAAoBS,KA1DHT,CAAAA,KAAM8B,CAAAA,CAAhB,IA0DarB,KA1DcT,CAAAA,KAAM+B,CAAAA,CAAjC,GA0DatB,KAzDHT,CAAAA,KAAN,CAyDgBU,IAzDhB,CADJ,GAGA,CAuDP,MAGMV,KACF,GADUS,KAAMT,CAAAA,KAAN,CAAYU,IAAZ,CACV,IAD+BD,KAAMT,CAAAA,KACrC,EAAAD,UAAA,CAAWC,KAAX,CAJJ;AAKE,aAAOC,OAAQC,CAAAA,UAAR,CAAmBF,KAAnB,CAAA,GAA4BA,KAA5B,GAAoCsB,gBAAA,CAAiBtB,KAAjB,CAA3C;AALF;AADsC;AAgCxCgC,UAASA,QAAO,CAAChC,KAAD,CAAQ;AACtB,QAAqB,QAArB,KAAI,MAAOA,MAAX;AACE,aAAOA,KAAP;AADF;AAGA,UAAMiC,YAAYC,UAAWC,CAAAA,MAAX,CAAkBC,IAAA,IACJjB,IAAAA,EADI,KAC3BnB,KAAA,CAAMoC,IAAKC,CAAAA,MAAX,CADS,CAAA,CAEf,CAFe,CAAlB;AAGA,WAAOJ,SAAA,GAAYA,SAAUV,CAAAA,IAAtB,GAA6BJ,IAAAA,EAApC;AAPsB;AA/HxB7B,QAAOC,CAAAA,cAAP,CAAsBf,OAAtB,EAA+B,YAA/B,EAA6C,CAC3C8D,MAAO,CAAA,CADoC,CAA7C,CAAA;AAGA9D,SAAQ+D,CAAAA,YAAR,GAiFAA,QAAqB,CAAC9B,KAAD,EAAQC,IAAR,CAAc;AACjC,QAAMV,QAAQ6B,iBAAA,CAAkBpB,KAAlB,EAAyBC,IAAzB,CAAd;AACA,QAAIV,KAAJ;AACE,aAAwB,QAAjB,KAAA,MAAOA,MAAP,GAA4BsB,gBAAA,CAAiBtB,KAAjB,CAA5B,GAAsDA,KAA7D;AADF;AApCuC;AACvC,UAAII,MAAJ;AAsCwCK,WArC9BL,CAAAA,MAAV,IAqCwCK,KArCdL,CAAAA,MAAN,CAqC2BM,IArC3B,CAApB,GACEN,MADF,GAqCwCK,KApCvBL,CAAAA,MAAN,CAoCoCM,IApCpC,CADX,GAqCwCD,KAnCvBL,CAAAA,MAFjB,IAE2BoC,KAAMC,CAAAA,OAAN,CAmCahC,KAnCOL,CAAAA,MAApB,CAF3B,KAGEA,MAHF,GAqCwCK,KAlCvBL,CAAAA,MAHjB,CAAA;AAQA,WAAA,GAHKA,MAAL,GAGOgB,UAAWC,CAAAA,aAAX,CAAyBjB,MAAzB,CAAA,GAAmC,MAAnC,GAA4C,QAHnD,GACSe,IAAAA,EAET;AAVuC;AAuCjCuB,SAAAA,GAAe,KAAfA,IAAkDlC,oBAAA,CAAqBC,KAArB,EAA4BC,IAA5B,CAAlDgC;AACN,WAAOpB,gBAAA,CAAiBoB,KAAjB,CAAP;AANiC,GAjFnC;AACAlE,SAAQmE,CAAAA,eAAR,GAwFAA,QAAwB,EAAG;AACzB,WAAOjB,OAAQE,CAAAA,WAAR,EAAP;AADyB,GAxF3B;AACApD,SAAQ8C,CAAAA,gBAAR,GAA2BA,gBAA3B;AACA9C,SAAQqD,CAAAA,iBAAR,GAA4BA,iBAA5B;AACArD,SAAQoE,CAAAA,YAAR,GAkGAA,QAAqB,CAACnC,KAAD,EAAQC,IAAR,CAAc;AA7DjC,QA+D6BD,KAvElBT,CAAAA,KAQX,KA+D6BS,KArEZT,CAAAA,KAAM8B,CAAAA,CAAhB,IAqEsBrB,KArEKT,CAAAA,KAAM+B,CAAAA,CAAjC,GAqEsBtB,KApEZT,CAAAA,KAAN,CAoEyBU,IApEzB,CADJ,GAGA,CAGP,EAAA;AAGMV,UAAAA,2BA4DuBS,KA5DTT,CAAAA,KAAN,CA4DsBU,IA5DtB,CAARV,IA4DuBS,KA5DYT,CAAAA,KAAnCA;AACN,8BAAA,GAAwB,QAAjB,KAAA,MAAOA,yBAAP,GAA4BA,wBAA5B,GAAoCgC,OAAA,CAAQhC,wBAAR,CAA3C;AAJA,KAAA;AACE,8BAAA,GAAOmB,IAAAA,EAAP;AADF;AA+DA,WAAO,wBAAP,IAA6CX,oBAAA,CAAqBC,KAArB,EAA4BC,IAA5B,CAA7C;AAFiC,GAlGnC;AACAlC,SAAQwD,CAAAA,OAAR,GAAkBA,OAAlB;AACAxD,SAAQuB,CAAAA,UAAR,GAAqBA,UAArB;AACA,MAAImB,kBAMJ2B,QAA+B,CAACC,GAAD,CAAM;AAAE,WAAOA,GAAA,IAAOA,GAAI/D,CAAAA,UAAX,GAAwB+D,GAAxB,GAA8B,CAAE9D,QAAS8D,GAAX,CAArC;AAAF,GANf,CAAuBxE,OAAA,CAAQ,0CAAR,CAAvB,CAAtB,EACI2B,UAAUnB,uBAAA,CAAwBR,OAAA,CAAQ,2DAAR,CAAxB,CADd,EAEI8C,aAAatC,uBAAA,CAAwBR,OAAA,CAAQ,8DAAR,CAAxB,CAFjB,EAGIoD,UAAU5C,uBAAA,CAAwBR,OAAA,CAAQ,iDAAR,CAAxB,CAHd;AASA,QAAMgC,wBAAwB,CAAC,QAAD,EAAW,MAAX,EAAmB,KAAnB,EAA0B,MAA1B,CAA9B,EA6FM4B,aAAa,CAAC,CAClBX,KAAM,UADY,EAElBc,OAAQ,WAFU,CAAD,EAGhB,CACDd,KAAM,KADL,EAEDc,OAAQ,MAFP,CAHgB,CA7FnB;AAtBoH,CAApH;;",
"sources":["node_modules/victory-core/lib/victory-util/scale.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$victory_core$lib$victory_util$scale\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBaseScale = getBaseScale;\nexports.getDefaultScale = getDefaultScale;\nexports.getScaleFromName = getScaleFromName;\nexports.getScaleFromProps = getScaleFromProps;\nexports.getScaleType = getScaleType;\nexports.getType = getType;\nexports.validScale = validScale;\nvar _isPlainObject2 = _interopRequireDefault(require(\"lodash/isPlainObject\"));\nvar Helpers = _interopRequireWildcard(require(\"./helpers\"));\nvar Collection = _interopRequireWildcard(require(\"./collection\"));\nvar d3Scale = _interopRequireWildcard(require(\"victory-vendor/d3-scale\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/* eslint-disable no-use-before-define */\n\nconst supportedScaleStrings = [\"linear\", \"time\", \"log\", \"sqrt\"];\n// Private Functions\n\nfunction toNewName(scale) {\n  // d3 scale changed the naming scheme for scale from \"linear\" -> \"scaleLinear\" etc.\n  const capitalize = s => s && s[0].toUpperCase() + s.slice(1);\n  return `scale${capitalize(scale)}`;\n}\nfunction validScale(scale) {\n  if (typeof scale === \"function\") {\n    return Helpers.isFunction(scale.copy) && Helpers.isFunction(scale.domain) && Helpers.isFunction(scale.range);\n  } else if (typeof scale === \"string\") {\n    return supportedScaleStrings.includes(scale);\n  }\n  return false;\n}\nfunction isScaleDefined(props, axis) {\n  if (!props.scale) {\n    return false;\n  } else if (props.scale.x || props.scale.y) {\n    return !!props.scale[axis];\n  }\n  return true;\n}\nfunction getScaleTypeFromProps(props, axis) {\n  if (!isScaleDefined(props, axis)) {\n    return undefined;\n  }\n  const scale = props.scale[axis] || props.scale;\n  return typeof scale === \"string\" ? scale : getType(scale);\n}\nfunction getScaleFromDomain(props, axis) {\n  let domain;\n  if (props.domain && props.domain[axis]) {\n    domain = props.domain[axis];\n  } else if (props.domain && Array.isArray(props.domain)) {\n    domain = props.domain;\n  }\n  if (!domain) {\n    return undefined;\n  }\n  return Collection.containsDates(domain) ? \"time\" : \"linear\";\n}\nfunction getScaleTypeFromData(props, axis) {\n  if (!props.data) {\n    return \"linear\";\n  }\n  const accessor = Helpers.createAccessor(props[axis]);\n  const axisData = props.data.map(datum => {\n    const processedData = (0, _isPlainObject2.default)(accessor(datum)) ? accessor(datum)[axis] : accessor(datum);\n    return processedData !== undefined ? processedData : datum[axis];\n  });\n  return Collection.containsDates(axisData) ? \"time\" : \"linear\";\n}\n\n// Exported Functions\n\nfunction getScaleFromName(name) {\n  if (validScale(name)) {\n    const methodName = toNewName(name);\n    // @ts-expect-error scaleTime is not directly compatible with our D3Scale definition\n    return d3Scale[methodName]();\n  }\n  return d3Scale.scaleLinear();\n}\nfunction getBaseScale(props, axis) {\n  const scale = getScaleFromProps(props, axis);\n  if (scale) {\n    return typeof scale === \"string\" ? getScaleFromName(scale) : scale;\n  }\n  const defaultScale = getScaleFromDomain(props, axis) || getScaleTypeFromData(props, axis);\n  return getScaleFromName(defaultScale);\n}\nfunction getDefaultScale() {\n  return d3Scale.scaleLinear();\n}\nfunction getScaleFromProps(props, axis) {\n  if (!isScaleDefined(props, axis)) {\n    return undefined;\n  }\n  const scale = props.scale[axis] || props.scale;\n  if (validScale(scale)) {\n    return Helpers.isFunction(scale) ? scale : getScaleFromName(scale);\n  }\n  return undefined;\n}\nfunction getScaleType(props, axis) {\n  // if the scale was not given in props, it will be set to linear or time depending on data\n  return getScaleTypeFromProps(props, axis) || getScaleTypeFromData(props, axis);\n}\n\n// Ordered type inference off of function fields.\n// **Note**: Brittle because reliant on d3 internals.\nconst DUCK_TYPES = [{\n  name: \"quantile\",\n  method: \"quantiles\"\n}, {\n  name: \"log\",\n  method: \"base\"\n}\n// TODO(2214): Re-evaluate (1) duck typing approach, and (2) if duck typing,\n//   do we need a different approach? (Multiple keys? Stringifying functions?)\n// https://github.com/FormidableLabs/victory/issues/2214\n// Below are matches that don't seem to otherwise occur in Victory code base.\n// { name: \"ordinal\", method: \"unknown\" },\n// { name: \"pow-sqrt\", method: \"exponent\" },\n// { name: \"quantize-threshold\", method: \"invertExtent\" }\n];\nfunction getType(scale) {\n  if (typeof scale === \"string\") {\n    return scale;\n  }\n  const scaleType = DUCK_TYPES.filter(type => {\n    return scale[type.method] !== undefined;\n  })[0];\n  return scaleType ? scaleType.name : undefined;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","_interopRequireWildcard","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","validScale","scale","Helpers","isFunction","copy","domain","range","supportedScaleStrings","includes","getScaleTypeFromData","props","axis","data","accessor","createAccessor","axisData","map","datum","processedData","_isPlainObject2","undefined","Collection","containsDates","getScaleFromName","name","toUpperCase","slice","d3Scale","methodName","scaleLinear","getScaleFromProps","x","y","getType","scaleType","DUCK_TYPES","filter","type","method","value","getBaseScale","Array","isArray","defaultScale","getDefaultScale","getScaleType","_interopRequireDefault","obj"]
}
