{"version":3,"sources":["app/client.cljs"],"mappings":";;AAYA,AAAKA,2BAAc,AAACC,8DAAsBC;AAE1C,AAAA,AAAA;AAAA,IAAAC,+BAAA,2CAAA,wEAAA,+CAAAC;AAAA,AAAA,OAAAC,iDAAA,2CAAA,2DAAA,2CAAA,mCAAAD;GAAA,0DAAA,iCAAaW;AAAb,AAAA,OAAAT,uDAAA,NAAaS;AAAb,AAAA,YAAA,CAAAR,wEAAAA,+EAAAA,TAAaQ,4DAAAA,nNAAKC;AAAlB,AAEE,YAAA,ZAACC;;AACD,OAAAC,8EAAA,MAAA,8dAAA,3YACC,AAAAC,sDAAA,CAAA,KAAA,KAAA,gBACA,yBAAA,2CAAA,kDAAA,6CAAA,yDAAA,MAAA,8DAAA,hSAACnB;;;AALJ,AAAA,GAAA,QAAAQ,gCAAAC,uCAAAC;AAAA;AAAA,AAAA;;;kBAAA,AAAAC,oDAAA,AAAAC,4CAAAT,6BAAA,/IAAOW;;;AAAP,AAAAD,4EAAA,wEAAAV,xFAAOW;AASP,GAAA,QAAAN,gCAAAC,uCAAAW;AAAA;AAAA,AAAA,AAASC,iBAAI,AAACC,oDAAa,AAACC;;AAE5B,kBAAA,lBAAeC;AAAf,AACE,mHAAA,5GAACC,6EAAWJ,eAAIP;;;AAElB,AAcA","names":["app.client/ui-wavesurfer","com.fulcrologic.fulcro.algorithms.react-interop/react-factory","js/module$node_modules$$wavesurfer$react$dist$index.WavesurferPlayer","options__53666__auto__","params","com.fulcrologic.fulcro.components/make-state-map","com.fulcrologic.fulcro.components/wrapped-render","com.fulcrologic.fulcro.components/props","js/app","js/app.client","js/app.client.Root","com.fulcrologic.fulcro.components/react-constructor","cljs.core.get","com.fulcrologic.fulcro.components/configure-component!","app.client/Root","this","props","js/console.log","com.fulcrologic.fulcro.dom.macro_create_element","com.fulcrologic.fulcro.dom/macro-create-element*","js/app.client.APP","app.client/APP","com.fulcrologic.fulcro.react.version18/with-react18","com.fulcrologic.fulcro.application.fulcro_app","app.client/init","com.fulcrologic.fulcro.application.mount_BANG_"],"sourcesContent":["(ns app.client\n  (:require\n   [com.fulcrologic.fulcro.application :as app]\n   [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n   [com.fulcrologic.fulcro.dom :as dom :refer [div ul li h3 label]]\n\n   [com.fulcrologic.fulcro.algorithms.react-interop :as interop]\n   [\"@wavesurfer/react\" :as wavesurfer :refer [WavesurferPlayer useWavesurfer]]\n   [com.fulcrologic.fulcro.react.version18 :refer [with-react18]]))\n\n\n\n(def ui-wavesurfer (interop/react-factory WavesurferPlayer))\n\n(defsc Root [this props]\n  {:initial-state {:root/list {}}}\n  (js/console.log \"Render root\")\n  (dom/div\n   (dom/h3 \"Application\")\n   (ui-wavesurfer {:url \"audio/Dialog_13_626f0465..264c74a138db.mp3\"\n                   :height 100\n                   :waveColor \"violet\"})))\n\n(defonce APP (with-react18 (app/fulcro-app)))\n\n(defn ^:export init []\n  (app/mount! APP Root \"app\"))\n\n(comment\n  WavesurferPlayer\n  ;; => nil\n\n  ;; => nil\n\n  wavesurfer/WavesurferPlayer\n\n  div\n\n  useWavesurfer\n  ;; => #object [p]\n)\n\n(comment\n  (ns app.client\n    (:require\n     [com.fulcrologic.fulcro.application :as app]\n     [cljs.pprint :refer [cl-format]]\n      ;; REQUIRES shadow-cljs, with \"victory\" in package.json\n     [\"victory\" :refer [VictoryChart VictoryAxis VictoryLine]]\n     [com.fulcrologic.fulcro.dom :as dom]\n     [com.fulcrologic.fulcro.algorithms.react-interop :as interop]\n     [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n     [taoensso.timbre :as log]\n     [com.fulcrologic.fulcro.react.version18 :refer [with-react18]]))\n  \n  \n  (defn us-dollars [n]\n    (str \"$\" (cl-format nil \"~:d\" n)))\n  \n  (def vchart (interop/react-factory VictoryChart))\n  (def vaxis (interop/react-factory VictoryAxis))\n  (def vline (interop/react-factory VictoryLine))\n  \n  ;; \" [ {:year 1991 :value 2345 } ...] \"\n  (defsc YearlyValueChart [this {:keys [label plot-data x-step]}]\n    (let [start-year (apply min (mapv :year plot-data))\n          end-year   (apply max (mapv :year plot-data))\n          years      (range start-year (inc end-year) x-step)\n          dates      (mapv #(new js/Date % 1 2) years)\n          {:keys [min-value\n                  max-value]} (reduce (fn [{:keys [min-value max-value] :as acc}\n                                           {:keys [value] :as n}]\n                                        (assoc acc\n                                               :min-value (min min-value value)\n                                               :max-value (max max-value value)))\n                                      {}\n                                      plot-data)\n          min-value  (int (* 0.8 min-value))\n          max-value  (int (* 1.2 max-value))\n          points     (mapv (fn [{:keys [year value]}]\n                             {:x (new js/Date year 1 2)\n                              :y value})\n                           plot-data)]\n      (vchart nil\n              (vaxis {:label      label\n                      :standalone false\n                      :scale      \"time\"\n                      :tickFormat (fn [d] (.getFullYear d))\n                      :tickValues dates})\n              (vaxis {:dependentAxis true\n                      :standalone    false\n                      :tickFormat    (fn [y] (us-dollars y))\n                      :domain        #js [min-value max-value]})\n              (vline {:data points}))))\n  \n  (def yearly-value-chart (comp/factory YearlyValueChart))\n  \n  (defsc Root [this props]\n    {:initial-state {:label     \"Yearly Value\"\n                     :x-step    2\n                     :plot-data [{:year 1983 :value 20}\n                                 {:year 1984 :value 100}\n                                 {:year 1985 :value 90}\n                                 {:year 1986 :value 89}\n                                 {:year 1987 :value 88}\n                                 {:year 1988 :value 85}\n                                 {:year 1989 :value 83}\n                                 {:year 1990 :value 80}\n                                 {:year 1991 :value 70}\n                                 {:year 1992 :value 80}\n                                 {:year 1993 :value 90}\n                                 {:year 1994 :value 95}\n                                 {:year 1995 :value 110}\n                                 {:year 1996 :value 120}\n                                 {:year 1997 :value 160}\n                                 {:year 1998 :value 170}\n                                 {:year 1999 :value 180}\n                                 {:year 2000 :value 180}\n                                 {:year 2001 :value 200}]}}\n    (dom/div\n     (yearly-value-chart props)))\n  \n  \n  (defonce APP (with-react18 (app/fulcro-app)))\n  \n  (defn ^:export init []\n    (app/mount! APP Root \"app\")))"]}