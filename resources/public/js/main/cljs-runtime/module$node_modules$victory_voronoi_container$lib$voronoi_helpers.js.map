{
"version":3,
"file":"module$node_modules$victory_voronoi_container$lib$voronoi_helpers.js",
"lineCount":120,
"mappings":"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",
"sources":["node_modules/victory-voronoi-container/lib/voronoi-helpers.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$victory_voronoi_container$lib$voronoi_helpers\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VoronoiHelpers = void 0;\nvar _throttle2 = _interopRequireDefault(require(\"lodash/throttle\"));\nvar _isRegExp2 = _interopRequireDefault(require(\"lodash/isRegExp\"));\nvar _isEmpty2 = _interopRequireDefault(require(\"lodash/isEmpty\"));\nvar _victoryCore = require(\"victory-core\");\nvar _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\"));\nvar _index = _interopRequireDefault(require(\"delaunay-find/lib/index.js\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst ON_MOUSE_MOVE_THROTTLE_MS = 32;\nclass VoronoiHelpersClass {\n  withinBounds(props, point) {\n    const {\n      width,\n      height,\n      polar,\n      origin,\n      scale\n    } = props;\n    const padding = _victoryCore.Helpers.getPadding(props, \"voronoiPadding\");\n    const {\n      x,\n      y\n    } = point;\n    if (polar) {\n      const distanceSquared = Math.pow(x - origin.x, 2) + Math.pow(y - origin.y, 2);\n      const radius = Math.max(...scale.y.range());\n      return distanceSquared < Math.pow(radius, 2);\n    }\n    return x >= padding.left && x <= width - padding.right && y >= padding.top && y <= height - padding.bottom;\n  }\n  getDatasets(props) {\n    const minDomain = {\n      x: _victoryCore.Collection.getMinValue(props.domain.x),\n      y: _victoryCore.Collection.getMinValue(props.domain.y)\n    };\n    const children = _react.default.Children.toArray(props.children);\n    const addMeta = (data, name, child) => {\n      const continuous = child && child.type && child.type.continuous;\n      const style = child ? child.props && child.props.style : props.style;\n      return data.map((datum, index) => {\n        const {\n          x,\n          y,\n          y0,\n          x0\n        } = _victoryCore.Helpers.getPoint(datum);\n        const voronoiX = (Number(x) + Number(x0)) / 2;\n        const voronoiY = (Number(y) + Number(y0)) / 2;\n        return Object.assign({\n          _voronoiX: props.voronoiDimension === \"y\" ? minDomain.x : voronoiX,\n          _voronoiY: props.voronoiDimension === \"x\" ? minDomain.y : voronoiY,\n          eventKey: index,\n          childName: name,\n          continuous,\n          style\n        }, datum);\n      });\n    };\n    if (props.data) {\n      return addMeta(props.data);\n    }\n    const getData = childProps => {\n      const data = _victoryCore.Data.getData(childProps);\n      return Array.isArray(data) && data.length > 0 ? data : undefined;\n    };\n    const iteratee = (child, childName) => {\n      const childProps = child.props || {};\n      const name = childProps.name || childName;\n      const blacklist = props.voronoiBlacklist || [];\n      const blacklistStr = blacklist.filter(value => !!value && typeof value.valueOf() === \"string\");\n      const blacklistRegExp = blacklist.filter(_isRegExp2.default);\n      const isRegExpMatch = blacklistRegExp.some(regExp => regExp.test(name));\n      if (!_victoryCore.Data.isDataComponent(child) || blacklistStr.includes(name) || isRegExpMatch) {\n        return null;\n      }\n      const getChildData = child.type && _victoryCore.Helpers.isFunction(child.type.getData) ? child.type.getData : getData;\n      const childData = getChildData(child.props);\n      return childData ? addMeta(childData, name, child) : null;\n    };\n    return _victoryCore.Helpers.reduceChildren(children, iteratee, props);\n  }\n  findPoints(datasets, point) {\n    return datasets.filter(d => {\n      return point._voronoiX === d._voronoiX && point._voronoiY === d._voronoiY;\n    });\n  }\n  withinRadius(point, mousePosition, radius) {\n    if (!point) {\n      return false;\n    }\n    if (!radius) {\n      return true;\n    }\n    const {\n      x,\n      y\n    } = mousePosition;\n    const distanceSquared = Math.pow(x - point[0], 2) + Math.pow(y - point[1], 2);\n    return distanceSquared < Math.pow(radius, 2);\n  }\n  getVoronoiPoints(props, mousePosition) {\n    const datasets = this.getDatasets(props);\n    const scaledData = datasets.map(d => {\n      const {\n        x,\n        y\n      } = _victoryCore.Helpers.scalePoint(props, d);\n      return [x, y];\n    });\n    const delaunay = _index.default.from(scaledData);\n    const index = delaunay.find(mousePosition.x, mousePosition.y);\n    const withinRadius = this.withinRadius(scaledData[index], mousePosition, props.radius);\n    const points = withinRadius ? this.findPoints(datasets, datasets[index]) : [];\n    return {\n      points,\n      index\n    };\n  }\n  getActiveMutations(props, point) {\n    const {\n      childName,\n      continuous\n    } = point;\n    const {\n      activateData,\n      activateLabels,\n      labels\n    } = props;\n    if (!activateData && !activateLabels) {\n      return [];\n    }\n    const defaultTarget = activateData ? [\"data\"] : [];\n    const targets = labels && !activateLabels ? defaultTarget : defaultTarget.concat(\"labels\");\n    if ((0, _isEmpty2.default)(targets)) {\n      return [];\n    }\n    return targets.map(target => {\n      const eventKey = continuous === true && target === \"data\" ? \"all\" : point.eventKey;\n      return {\n        childName,\n        eventKey,\n        target,\n        mutation: () => ({\n          active: true\n        })\n      };\n    });\n  }\n  getInactiveMutations(props, point) {\n    const {\n      childName,\n      continuous\n    } = point;\n    const {\n      activateData,\n      activateLabels,\n      labels\n    } = props;\n    if (!activateData && !activateLabels) {\n      return [];\n    }\n    const defaultTarget = activateData ? [\"data\"] : [];\n    const targets = labels && !activateLabels ? defaultTarget : defaultTarget.concat(\"labels\");\n    if ((0, _isEmpty2.default)(targets)) {\n      return [];\n    }\n    return targets.map(target => {\n      const eventKey = continuous && target === \"data\" ? \"all\" : point.eventKey;\n      return {\n        childName,\n        eventKey,\n        target,\n        mutation: () => null\n      };\n    });\n  }\n\n  // eslint-disable-next-line max-params\n  getParentMutation(activePoints, mousePosition, parentSVG, vIndex) {\n    return [{\n      target: \"parent\",\n      eventKey: \"parent\",\n      mutation: () => ({\n        activePoints,\n        mousePosition,\n        parentSVG,\n        vIndex\n      })\n    }];\n  }\n  onActivated(props, points) {\n    if (_victoryCore.Helpers.isFunction(props.onActivated)) {\n      props.onActivated(points, props);\n    }\n  }\n  onDeactivated(props, points) {\n    if (_victoryCore.Helpers.isFunction(props.onDeactivated)) {\n      props.onDeactivated(points, props);\n    }\n  }\n  onMouseLeave = (evt, targetProps) => {\n    const activePoints = targetProps.activePoints || [];\n    this.onDeactivated(targetProps, activePoints);\n    const inactiveMutations = activePoints.length ? activePoints.map(point => this.getInactiveMutations(targetProps, point)) : [];\n    return this.getParentMutation([]).concat(...inactiveMutations);\n  };\n  handleMouseMove = (evt, targetProps) => {\n    // eslint-disable-line max-statements\n    const activePoints = targetProps.activePoints || [];\n    const parentSVG = targetProps.parentSVG || _victoryCore.Selection.getParentSVG(evt);\n    const mousePosition = _victoryCore.Selection.getSVGEventCoordinates(evt, parentSVG);\n    if (!this.withinBounds(targetProps, mousePosition)) {\n      this.onDeactivated(targetProps, activePoints);\n      const inactiveMutations = activePoints.length ? activePoints.map(point => this.getInactiveMutations(targetProps, point)) : [];\n      return this.getParentMutation([], mousePosition, parentSVG).concat(...inactiveMutations);\n    }\n    const {\n      points = [],\n      index\n    } = this.getVoronoiPoints(targetProps, mousePosition);\n    const parentMutations = this.getParentMutation(points, mousePosition, parentSVG, index);\n    if (activePoints.length && (0, _reactFastCompare.default)(points, activePoints)) {\n      return parentMutations;\n    }\n    this.onActivated(targetProps, points);\n    this.onDeactivated(targetProps, activePoints);\n    const activeMutations = points.length ? points.map(point => this.getActiveMutations(targetProps, point)) : [];\n    const inactiveMutations = activePoints.length ? activePoints.map(point => this.getInactiveMutations(targetProps, point)) : [];\n    return parentMutations.concat(...inactiveMutations, ...activeMutations);\n  };\n  onMouseMove = (0, _throttle2.default)(this.handleMouseMove, ON_MOUSE_MOVE_THROTTLE_MS, {\n    leading: true,\n    trailing: false\n  });\n}\nconst VoronoiHelpers = exports.VoronoiHelpers = new VoronoiHelpersClass();\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","VoronoiHelpers","_throttle2","_isRegExp2","_isEmpty2","_victoryCore","_reactFastCompare","_index","_react","VoronoiHelpersClass","evt","targetProps","activePoints","onDeactivated","inactiveMutations","length","map","point","getInactiveMutations","getParentMutation","concat","parentSVG","Selection","getParentSVG","mousePosition","getSVGEventCoordinates","withinBounds","points","index","getVoronoiPoints","parentMutations","onActivated","activeMutations","getActiveMutations","handleMouseMove","ON_MOUSE_MOVE_THROTTLE_MS","leading","trailing","props","width","height","polar","origin","scale","padding","Helpers","getPadding","x","y","distanceSquared","Math","pow","radius","max","range","left","right","top","bottom","getDatasets","Collection","getMinValue","domain","children","Children","toArray","addMeta","data","name","child","continuous","type","style","datum","y0","x0","getPoint","voronoiX","Number","voronoiY","assign","_voronoiX","voronoiDimension","_voronoiY","eventKey","childName","getData","childProps","Data","Array","isArray","undefined","reduceChildren","iteratee","blacklist","voronoiBlacklist","blacklistStr","filter","valueOf","isRegExpMatch","blacklistRegExp","some","regExp","test","isDataComponent","includes","childData","getChildData","isFunction","findPoints","datasets","d","withinRadius","scaledData","scalePoint","from","delaunay","find","activateData","activateLabels","labels","defaultTarget","targets","target","mutation","active","vIndex"]
}
