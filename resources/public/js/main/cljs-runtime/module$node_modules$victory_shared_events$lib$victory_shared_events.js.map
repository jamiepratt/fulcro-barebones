{
"version":3,
"file":"module$node_modules$victory_shared_events$lib$victory_shared_events.js",
"lineCount":146,
"mappings":"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",
"sources":["node_modules/victory-shared-events/lib/victory-shared-events.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$victory_shared_events$lib$victory_shared_events\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VictorySharedEvents = void 0;\nvar _fromPairs2 = _interopRequireDefault(require(\"lodash/fromPairs\"));\nvar _isEmpty2 = _interopRequireDefault(require(\"lodash/isEmpty\"));\nvar _defaults2 = _interopRequireDefault(require(\"lodash/defaults\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _victoryCore = require(\"victory-core\");\nvar _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\"));\nvar _jsonStringifySafe = _interopRequireDefault(require(\"json-stringify-safe\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// DISCLAIMER:\n// This file is not currently tested, and it is first on the list of files\n// to refactor in our current refactoring effort. Please do not make changes\n// to this file without manual testing and/or refactoring and adding tests.\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\n\nclass VictorySharedEvents extends _react.default.Component {\n  static displayName = \"VictorySharedEvents\";\n  static role = \"shared-event-wrapper\";\n  static contextType = _victoryCore.TimerContext;\n  static defaultProps = {\n    groupComponent: /*#__PURE__*/_react.default.createElement(\"g\", null)\n  };\n  constructor(props) {\n    super(props);\n    this.getScopedEvents = _victoryCore.Events.getScopedEvents.bind(this);\n    this.getEventState = _victoryCore.Events.getEventState.bind(this);\n    this.state = this.state || {};\n    this.sharedEventsCache = {};\n    this.globalEvents = {};\n    this.prevGlobalEventKeys = [];\n    this.boundGlobalEvents = {};\n    this.baseProps = this.getBaseProps(props);\n  }\n  shouldComponentUpdate(nextProps) {\n    if (!(0, _reactFastCompare.default)(this.props, nextProps)) {\n      this.baseProps = this.getBaseProps(nextProps);\n      const externalMutations = this.getExternalMutations(nextProps, this.baseProps);\n      this.applyExternalMutations(nextProps, externalMutations);\n    }\n    return true;\n  }\n  componentDidMount() {\n    const globalEventKeys = Object.keys(this.globalEvents);\n    globalEventKeys.forEach(key => this.addGlobalListener(key));\n    this.prevGlobalEventKeys = globalEventKeys;\n  }\n  componentDidUpdate() {\n    const globalEventKeys = Object.keys(this.globalEvents);\n    const removedGlobalEventKeys = _victoryCore.Collection.difference(this.prevGlobalEventKeys, globalEventKeys);\n    removedGlobalEventKeys.forEach(key => this.removeGlobalListener(key));\n    const addedGlobalEventKeys = _victoryCore.Collection.difference(globalEventKeys, this.prevGlobalEventKeys);\n    addedGlobalEventKeys.forEach(key => this.addGlobalListener(key));\n    this.prevGlobalEventKeys = globalEventKeys;\n  }\n  componentWillUnmount() {\n    this.prevGlobalEventKeys.forEach(key => this.removeGlobalListener(key));\n  }\n  addGlobalListener(key) {\n    const boundListener = event => {\n      const listener = this.globalEvents[key];\n      return listener && listener(_victoryCore.Events.emulateReactEvent(event));\n    };\n    this.boundGlobalEvents[key] = boundListener;\n    window.addEventListener(_victoryCore.Events.getGlobalEventNameFromKey(key), boundListener);\n  }\n  removeGlobalListener(key) {\n    window.removeEventListener(_victoryCore.Events.getGlobalEventNameFromKey(key), this.boundGlobalEvents[key]);\n  }\n  getAllEvents(props) {\n    const components = [\"container\", \"groupComponent\"];\n    const componentEvents = _victoryCore.Events.getComponentEvents(props, components);\n    if (Array.isArray(componentEvents)) {\n      return Array.isArray(props.events) ? componentEvents.concat(...props.events) : componentEvents;\n    }\n    return props.events;\n  }\n  applyExternalMutations(props, externalMutations) {\n    if (!(0, _isEmpty2.default)(externalMutations)) {\n      const callbacks = props.externalEventMutations.reduce((memo, mutation) => _victoryCore.Helpers.isFunction(mutation.callback) ? memo.concat(mutation.callback) : memo, []);\n      const compiledCallbacks = callbacks.length ? () => {\n        callbacks.forEach(c => c());\n      } : undefined;\n      this.setState(externalMutations, compiledCallbacks);\n    }\n  }\n  getExternalMutations(props, baseProps) {\n    return !(0, _isEmpty2.default)(props.externalEventMutations) ? _victoryCore.Events.getExternalMutationsWithChildren(props.externalEventMutations, baseProps, this.state, Object.keys(baseProps)) : undefined;\n  }\n  cacheSharedEvents(name, sharedEvents, cacheValues) {\n    this.sharedEventsCache[name] = [sharedEvents, cacheValues];\n  }\n  getCachedSharedEvents(name, cacheValues) {\n    const [sharedEvents, prevCacheValues] = this.sharedEventsCache[name] || [];\n    if (sharedEvents && (0, _reactFastCompare.default)(cacheValues, prevCacheValues)) {\n      return sharedEvents;\n    }\n    return undefined;\n  }\n  getBaseProps(props) {\n    const {\n      container\n    } = props;\n    const children = _react.default.Children.toArray(this.props.children);\n    const childBaseProps = this.getBasePropsFromChildren(children);\n    const parentBaseProps = container ? container.props : {};\n    return Object.assign({}, childBaseProps, {\n      parent: parentBaseProps\n    });\n  }\n  getBasePropsFromChildren(childComponents) {\n    const iteratee = (child, childName) => {\n      if (child.type && _victoryCore.Helpers.isFunction(child.type.getBaseProps)) {\n        const baseProps = child.props && child.type.getBaseProps(child.props);\n        return baseProps ? [[childName, baseProps]] : null;\n      }\n      return null;\n    };\n    const baseProps = _victoryCore.Helpers.reduceChildren(childComponents, iteratee);\n    return (0, _fromPairs2.default)(baseProps);\n  }\n  getNewChildren(props, baseProps) {\n    const {\n      events,\n      eventKey\n    } = props;\n    const alterChildren = (children, childNames) => {\n      return children.reduce((memo, child, index) => {\n        if (child.props.children) {\n          const newChildren = _react.default.Children.toArray(child.props.children);\n          const names = childNames.slice(index, index + newChildren.length);\n          const results = /*#__PURE__*/_react.default.cloneElement(child, child.props, alterChildren(newChildren, names));\n          return memo.concat(results);\n        } else if (childNames[index] !== \"parent\" && child.type && _victoryCore.Helpers.isFunction(child.type.getBaseProps)) {\n          const name = child.props.name || childNames[index];\n          const childEvents = Array.isArray(events) && events.filter(event => {\n            if (event.target === \"parent\") {\n              return false;\n            }\n            return Array.isArray(event.childName) ? event.childName.indexOf(name) > -1 : event.childName === name || event.childName === \"all\";\n          });\n          const sharedEventsCacheValues = [name, baseProps, childEvents, (0, _jsonStringifySafe.default)(this.state[name])];\n          const sharedEvents = this.getCachedSharedEvents(name, sharedEventsCacheValues) || {\n            events: childEvents,\n            // partially apply child name and baseProps,\n            getEvents: (evts, target) => this.getScopedEvents(evts, target, name, baseProps),\n            // partially apply child name\n            getEventState: (key, target) => this.getEventState(key, target, name)\n          };\n          this.cacheSharedEvents(name, sharedEvents, sharedEventsCacheValues);\n          return memo.concat( /*#__PURE__*/_react.default.cloneElement(child, Object.assign({\n            key: `events-${name}`,\n            sharedEvents,\n            eventKey,\n            name\n          }, child.props)));\n        }\n        return memo.concat(child);\n      }, []);\n    };\n    const childNames = Object.keys(baseProps);\n    const childComponents = _react.default.Children.toArray(props.children);\n    return alterChildren(childComponents, childNames);\n  }\n  getContainer(props, baseProps, events) {\n    const children = this.getNewChildren(props, baseProps);\n    const parents = Array.isArray(events) ? events.filter(event => event.target === \"parent\") : [];\n    const sharedEvents = parents.length > 0 ? {\n      events: parents,\n      // partially apply childName (null) and baseProps,\n      getEvents: (evts, target) => this.getScopedEvents(evts, target, null, baseProps),\n      getEventState: this.getEventState\n    } : null;\n    const container = props.container || props.groupComponent;\n    const role = container.type && container.type.role;\n    const containerProps = container.props || {};\n    const boundGetEvents = _victoryCore.Events.getEvents.bind(this);\n    const parentEvents = sharedEvents && boundGetEvents({\n      sharedEvents\n    }, \"parent\");\n    const parentProps = (0, _defaults2.default)({}, this.getEventState(\"parent\", \"parent\"), containerProps, baseProps.parent, {\n      children\n    });\n    const containerEvents = (0, _defaults2.default)({}, _victoryCore.Events.getPartialEvents(parentEvents, \"parent\", parentProps), containerProps.events);\n    this.globalEvents = _victoryCore.Events.getGlobalEvents(containerEvents);\n    const localEvents = _victoryCore.Events.omitGlobalEvents(containerEvents);\n    return role === \"container\" ? /*#__PURE__*/_react.default.cloneElement(container, Object.assign({}, parentProps, {\n      events: localEvents\n    })) : /*#__PURE__*/_react.default.cloneElement(container, localEvents, children);\n  }\n  render() {\n    const events = this.getAllEvents(this.props);\n    if (events) {\n      return this.getContainer(this.props, this.baseProps, events);\n    }\n    return /*#__PURE__*/_react.default.cloneElement(this.props.container, {\n      children: this.props.children\n    });\n  }\n}\nexports.VictorySharedEvents = VictorySharedEvents;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","VictorySharedEvents","_fromPairs2","_isEmpty2","_defaults2","_react","_victoryCore","_reactFastCompare","_jsonStringifySafe","Component","TimerContext","groupComponent","createElement","constructor","props","getScopedEvents","Events","bind","getEventState","state","sharedEventsCache","globalEvents","prevGlobalEventKeys","boundGlobalEvents","baseProps","getBaseProps","shouldComponentUpdate","nextProps","externalMutations","getExternalMutations","applyExternalMutations","componentDidMount","globalEventKeys","keys","forEach","key","addGlobalListener","componentDidUpdate","Collection","difference","removedGlobalEventKeys","removeGlobalListener","addedGlobalEventKeys","componentWillUnmount","boundListener","event","listener","emulateReactEvent","window","addEventListener","getGlobalEventNameFromKey","removeEventListener","getAllEvents","componentEvents","getComponentEvents","components","Array","isArray","events","concat","callbacks","externalEventMutations","reduce","memo","mutation","Helpers","isFunction","callback","setState","length","compiledCallbacks","c","undefined","getExternalMutationsWithChildren","cacheSharedEvents","name","sharedEvents","cacheValues","getCachedSharedEvents","prevCacheValues","container","children","Children","toArray","childBaseProps","getBasePropsFromChildren","assign","parent","parentBaseProps","childComponents","reduceChildren","child","childName","iteratee","type","getNewChildren","eventKey","alterChildren","childNames","index","newChildren","names","slice","results","cloneElement","childEvents","filter","target","indexOf","sharedEventsCacheValues","getEvents","evts","getContainer","parents","role","containerProps","boundGetEvents","parentEvents","parentProps","containerEvents","getPartialEvents","getGlobalEvents","localEvents","omitGlobalEvents","render"]
}
