{
"version":3,
"file":"module$node_modules$victory_core$lib$victory_util$hooks$use_animation_state.js",
"lineCount":74,
"mappings":"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",
"sources":["node_modules/victory-core/lib/victory-util/hooks/use-animation-state.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$victory_core$lib$victory_util$hooks$use_animation_state\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAnimationState = void 0;\nvar _defaults2 = _interopRequireDefault(require(\"lodash/defaults\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar Collection = _interopRequireWildcard(require(\"../collection\"));\nvar Transitions = _interopRequireWildcard(require(\"../transitions\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst INITIAL_STATE = {\n  nodesShouldLoad: false,\n  nodesDoneLoad: false,\n  animating: true\n};\nconst useAnimationState = function (initialState) {\n  if (initialState === void 0) {\n    initialState = INITIAL_STATE;\n  }\n  const [state, _setState] = _react.default.useState(initialState);\n\n  // This allows us to use a state object and maintain the same API as this.setState\n  const setState = _react.default.useCallback(newState => {\n    _setState(oldState => ({\n      ...oldState,\n      ...newState\n    }));\n  }, [_setState]);\n\n  // This is a copy of Wrapper.getAnimationProps\n  const getAnimationProps = _react.default.useCallback((props, child, index) => {\n    if (!props?.animate) {\n      return child.props.animate;\n    }\n    const getFilteredState = () => {\n      let childrenTransitions = state && state.childrenTransitions;\n      childrenTransitions = Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[index] : childrenTransitions;\n      return (0, _defaults2.default)({\n        childrenTransitions\n      }, state);\n    };\n    let getTransitions = props.animate && props.animate.getTransitions;\n    const filteredState = getFilteredState();\n    const parentState = props.animate && props.animate.parentState || filteredState;\n    if (!getTransitions) {\n      const getTransitionProps = Transitions.getTransitionPropsFactory(props, filteredState, newState => setState(newState));\n      getTransitions = childComponent => getTransitionProps(childComponent, index);\n    }\n    return (0, _defaults2.default)({\n      getTransitions,\n      parentState\n    }, props.animate, child.props.animate);\n  }, [state, setState]);\n\n  // This is a copy of Wrapper.setAnimationState\n  const setAnimationState = _react.default.useCallback((props, nextProps) => {\n    if (!props?.animate) {\n      return;\n    }\n    if (props.animate.parentState) {\n      const nodesWillExit = props.animate.parentState.nodesWillExit;\n      const oldProps = nodesWillExit ? props : null;\n      const newState = (0, _defaults2.default)({\n        oldProps,\n        nextProps\n      }, props.animate.parentState);\n      setState(newState);\n    } else {\n      const oldChildren = _react.default.Children.toArray(props.children);\n      const nextChildren = _react.default.Children.toArray(nextProps.children);\n      const isContinuous = child => {\n        const check = c => c.type && c.type.continuous;\n        return Array.isArray(child) ? child.some(check) : check(child);\n      };\n      const continuous = !props.polar && oldChildren.some(child => {\n        return isContinuous(child) || child?.props?.children && isContinuous(child.props.children);\n      });\n      const {\n        nodesWillExit,\n        nodesWillEnter,\n        childrenTransitions,\n        nodesShouldEnter\n      } = Transitions.getInitialTransitionState(oldChildren, nextChildren);\n      setState({\n        nodesWillExit,\n        nodesWillEnter,\n        nodesShouldEnter,\n        childrenTransitions: Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[0] : childrenTransitions,\n        oldProps: nodesWillExit ? props : undefined,\n        nextProps,\n        continuous\n      });\n    }\n  }, [setState]);\n  const getProps = _react.default.useCallback(initialProps => {\n    return state && state.nodesWillExit ? state.oldProps || initialProps : initialProps;\n  }, [state]);\n  return {\n    state,\n    setState,\n    getAnimationProps,\n    setAnimationState,\n    getProps\n  };\n};\nexports.useAnimationState = useAnimationState;\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","_interopRequireWildcard","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_interopRequireDefault","obj","value","useAnimationState","_defaults2","_react","Collection","Transitions","INITIAL_STATE","nodesShouldLoad","nodesDoneLoad","animating","initialState","state","_setState","useState","setState","useCallback","newState","oldState","getAnimationProps","props","child","index","animate","getTransitions","filteredState","getFilteredState","childrenTransitions","isArrayOfArrays","parentState","getTransitionProps","getTransitionPropsFactory","childComponent","setAnimationState","nextProps","oldProps","nodesWillExit","oldChildren","Children","toArray","children","nextChildren","isContinuous","check","c","type","continuous","Array","isArray","some","polar","nodesWillEnter","nodesShouldEnter","getInitialTransitionState","undefined","getProps","initialProps"]
}
